<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Freshen gene annotations using Bioconductor annotation data — freshenGenes • genejam</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Freshen gene annotations using Bioconductor annotation data — freshenGenes"><meta name="description" content="Freshen gene annotations using Bioconductor annotation data"><meta property="og:description" content="Freshen gene annotations using Bioconductor annotation data"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">genejam</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.20.900</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jmw86069/genejam/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Freshen gene annotations using Bioconductor annotation data</h1>
      <small class="dont-index">Source: <a href="https://github.com/jmw86069/genejam/blob/HEAD/R/genejam-freshen.R" class="external-link"><code>R/genejam-freshen.R</code></a></small>
      <div class="d-none name"><code>freshenGenes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Freshen gene annotations using Bioconductor annotation data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">freshenGenes</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  ann_lib <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"org.Hs.eg.db"</span><span class="op">)</span>,</span>
<span>  try_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SYMBOL2EG"</span>, <span class="st">"ACCNUM2EG"</span>, <span class="st">"ALIAS2EG"</span><span class="op">)</span>,</span>
<span>  final <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SYMBOL"</span><span class="op">)</span>,</span>
<span>  split <span class="op">=</span> <span class="st">"[ ]*[,/;]+[ ]*"</span>,</span>
<span>  revert_split <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">","</span>,</span>
<span>  handle_multiple <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"first_try"</span>, <span class="st">"first_hit"</span>, <span class="st">"all"</span>, <span class="st">"best_each"</span><span class="op">)</span>,</span>
<span>  empty_rule <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"empty"</span>, <span class="st">"original"</span>, <span class="st">"na"</span><span class="op">)</span>,</span>
<span>  include_source <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  protect_inline_sep <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  intermediate <span class="op">=</span> <span class="st">"ENTREZID"</span>,</span>
<span>  ignore.case <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>character</code> vector or <code>data.frame</code> with one or most columns
containing gene symbols.</p></dd>


<dt id="arg-ann-lib">ann_lib<a class="anchor" aria-label="anchor" href="#arg-ann-lib"></a></dt>
<dd><p><code>character</code> vector indicating the name or names of the
Bioconductor annotation library to use when looking up
gene nomenclature.</p></dd>


<dt id="arg-try-list">try_list<a class="anchor" aria-label="anchor" href="#arg-try-list"></a></dt>
<dd><p><code>character</code> vector indicating one or more names of
annotations to use for the input gene symbols in <code>x</code>. The
annotation should typically return the Entrez gene ID, usually
given by <code>'2EG'</code> at the end of the name. For example <code>SYMBOL2EG</code>
will be used with ann_lib <code>"org.Hs.eg.db"</code> to produce annotation
name <code>"org.Hs.egSYMBOL2EG"</code>. Note that when the <code>'2EG'</code> form of
annotation does not exist (or another suitable suffix defined in
argument <code>"revmap_suffix"</code> in <code><a href="get_anno_db.html">get_anno_db()</a></code>), it will be derived
using <code><a href="https://rdrr.io/pkg/AnnotationDbi/man/Bimap-direction.html" class="external-link">AnnotationDbi::revmap()</a></code>. For example if <code>"org.Hs.egALIAS"</code>
is requested, but only <code>"org.Hs.egALIAS2EG"</code> is available, then
<code>AnnotationDbi::revmap(org.Hs.egALIAS2EG)</code> is used to create the
equivalent of <code>"org.Hs.egALIAS"</code>.</p></dd>


<dt id="arg-final">final<a class="anchor" aria-label="anchor" href="#arg-final"></a></dt>
<dd><p><code>character</code> vector to use for the final conversion
step. When <code>final</code> is <code>NULL</code> no conversion is performed.
When <code>final</code> contains multiple values, each value is returned
in the output. For example, <code>final=c("SYMBOL","GENENAME")</code> will
return a column <code>"SYMBOL"</code> and a column <code>"GENENAME"</code>.</p></dd>


<dt id="arg-split">split<a class="anchor" aria-label="anchor" href="#arg-split"></a></dt>
<dd><p><code>character</code> value used to separate delimited values in <code>x</code>
by the function <code><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">base::strsplit()</a></code>. The default will split values
separated by comma <code>,</code> semicolon <code>;</code> or forward slash <code>/</code>, and will
trim whitespace before and after these delimiters.</p></dd>


<dt id="arg-revert-split">revert_split<a class="anchor" aria-label="anchor" href="#arg-revert-split"></a></dt>
<dd><p><code>logical</code> default TRUE, whether to revert the
internal split with argument <code>split</code>, which causes columns with
delimited values to be split into single value per column.
When <code>revert_split=TRUE</code> the columns are re-combined to match
the original data. Note that values are combined using <code>sep</code>
as delimiter, which may not be identical to the input data.</p></dd>


<dt id="arg-sep">sep<a class="anchor" aria-label="anchor" href="#arg-sep"></a></dt>
<dd><p><code>character</code> value used to concatenate multiple entries in
the same field. The default <code>sep=","</code> will comma-delimit multiple
entries in the same field.</p></dd>


<dt id="arg-handle-multiple">handle_multiple<a class="anchor" aria-label="anchor" href="#arg-handle-multiple"></a></dt>
<dd><p><code>character</code> value indicating how to handle multiple
values:</p><ul><li><p><code>"first_hit"</code> will query each column of <code>x</code> until it finds the
first possible returning match, and will ignore all subsequent possible
matches for that row in <code>x</code>. For example, if one row in <code>x</code> contains
multiple values, only the first match will be used.</p></li>
<li><p><code>"first_try"</code>
will return the first match from <code>try_list</code> for all columns in <code>x</code>
that contain a match. For example, if one row in <code>x</code> contains two
values, the first match from <code>try_list</code> using one or both columns in
<code>x</code> will be maintained. Subsequent entries in <code>try_list</code> will not be
attempted for rows that already have a match.</p></li>
<li><p><code>"all"</code> will return all
possible matches for all entries in <code>x</code> using all items in <code>try_list</code>.</p></li>
</ul></dd>


<dt id="arg-empty-rule">empty_rule<a class="anchor" aria-label="anchor" href="#arg-empty-rule"></a></dt>
<dd><p><code>character</code> value indicating how to handle entries which
did not have a match, and are therefore empty: <code>"original"</code> will use
the original entry as the output field; <code>"empty"</code> will leave the
entry blank.</p></dd>


<dt id="arg-include-source">include_source<a class="anchor" aria-label="anchor" href="#arg-include-source"></a></dt>
<dd><p><code>logical</code> indicating whether to include a column
that shows the colname and source matched. For example, if column
<code>"original_gene"</code> matched <code>"SYMBOL2EG"</code> in <code>"org.Hs.eg.db"</code> there
will be a column <code>"found_source"</code> with value
<code>"original_gene.org.Hs.egSYMBOL2EG"</code>.</p></dd>


<dt id="arg-protect-inline-sep">protect_inline_sep<a class="anchor" aria-label="anchor" href="#arg-protect-inline-sep"></a></dt>
<dd><p><code>logical</code> indicating whether to
protect inline characters in <code>sep</code>, to prevent them from
being used to split single values into multiple values.
For example, <code>"GENENAME"</code> returns the full gene name, which
often contains comma <code>","</code> characters. These commas do
not separate multiple separate values, so they should not be
used to split a string like <code>"H4 clustered histone 10, pseudogene"</code>
into two strings <code>"H4 clustered histone 10"</code> and <code>"pseudogene"</code>.</p></dd>


<dt id="arg-intermediate">intermediate<a class="anchor" aria-label="anchor" href="#arg-intermediate"></a></dt>
<dd><p><code>character</code> string with colname in <code>x</code> that
contains intermediate values. These values are expected from output
of the first step in the workflow, for example <code>"SYMBOL2EG"</code>
returns Entrez gene values, so if the input <code>x</code> already contains
some of these values in a column, assign that colname to
<code>intermediate</code>.</p></dd>


<dt id="arg-ignore-case">ignore.case<a class="anchor" aria-label="anchor" href="#arg-ignore-case"></a></dt>
<dd><p><code>logical</code> indicating whether to use
case-insensitive matching when <code>ignore.case=TRUE</code>, otherwise
the default <code>ignore.case=FALSE</code> will perform default <code><a href="https://rdrr.io/pkg/BiocGenerics/man/get.html" class="external-link">mget()</a></code>
which requires the upper and lowercase characters are
an identical match. When <code>ignore.case=TRUE</code> this function
calls <code><a href="imget.html">genejam::imget()</a></code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>logical</code> indicating whether to print verbose output.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>data.frame</code> with one or more columns indicating the input
data, then a column <code>"intermediate"</code> containing the Entrez gene ID
that was matched, then one column for each item in <code>final</code>,
by default <code>"SYMBOL"</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function takes a vector or <code>data.frame</code> of gene symbols,
and uses Bioconductor annotation methods to find the most current
official gene symbol.</p>
<p>The annotation process runs in two basic steps:</p><ol><li><p><strong>Convert the input gene to Entrez gene ID</strong> (<code>intermediate</code>).</p></li>
<li><p><strong>Convert Entrez gene ID to official gene symbol</strong> (<code>final</code>).</p></li>
</ol><p>The <code>intermediate</code> depends upon the annotation used, but in the
default condition, most Bioconductor gene-centric annotation sources
are focused on <code>ENTREZID</code> as the primary key for integration.</p>
<p>During Step 1 above, values are successively queried to obtain
a successful conversion to <code>intermediate</code>, the specific logic for which
is controlled by <code>handle_multiple</code>. However, once the criteria
are met which produces valid <code>intermediate</code>, the value or values
in the <code>intermediate</code> are then used for Step 2 above.</p><div class="section">
<h3 id="step-convert-to-entrez-gene-id">Step 1. Convert to Entrez gene ID<a class="anchor" aria-label="anchor" href="#step-convert-to-entrez-gene-id"></a></h3>


<p>The first step uses an ordered list of annotations,
with the assumption that the first match is usually the best,
and most specific. By default, the order is:</p><ul><li><p><code>"org.Hs.egSYMBOL2EG"</code> – almost always 1-to-1 match</p></li>
<li><p><code>"org.Hs.egACCNUM2EG"</code> – mostly a 1-to-1 match</p></li>
<li><p><code>"org.Hs.egALIAS2EG"</code> – sometimes a 1-to-1 match, sometimes 1-to-many</p></li>
</ul><p>When multiple Entrez gene ID values are matched, they are all
retained. See argument <code>handle_multiple</code> for custom options.</p>
</div>

<div class="section">
<h3 id="step-use-entrez-gene-id-to-return-official-annotation">Step 2. Use Entrez gene ID to return official annotation<a class="anchor" aria-label="anchor" href="#step-use-entrez-gene-id-to-return-official-annotation"></a></h3>


<p>The second step converts the Entrez gene ID (or multiple IDs)
to the official gene symbol, by default using <code>"org.Hs.egSYMBOL"</code>.</p>
<p>The second step may optionally include multiple annotation types,
each of which will be returned. Some common examples:</p><ul><li><p><code>"org.Hs.egSYMBOL"</code> – official Entrez gene symbol</p></li>
<li><p><code>"org.Hs.egALIAS"</code> – set of recognized aliases for an Entrez gene.</p></li>
<li><p><code>"org.Hs.egGENENAME"</code> – official Entrez long gene name</p></li>
</ul><p>For each step, the annotation matched can be returned, as an audit
trail to see which annotation was available for each input entry.</p>
<p>Note that if the input data already contains Entrez gene ID
values, you can define that colname with argument <code>intermediate</code>.</p>
</div>

<div class="section">
<h3 id="pre-existing-intermediate-values">Pre-existing intermediate values<a class="anchor" aria-label="anchor" href="#pre-existing-intermediate-values"></a></h3>


<p>When input data contains a column that matches argument <code>intermediate</code>,
the intention is for pre-existing values to be honored and maintained.
As a result, pre-existing non-empty values in <code>intermediate</code> are kept
without being updated. For example, in a <code>data.frame</code> that contains
colnames 'gene' and 'intermediate', and values are present in both
columns for a given row, the value in 'intermediate' is used without
also querying the value in 'gene' for that row.</p>
</div>

<div class="section">
<h3 id="case-insensitive-search">Case-insensitive search<a class="anchor" aria-label="anchor" href="#case-insensitive-search"></a></h3>


<p>Case-insensitive search is particularly useful in non-human
organisms because they often use mixed-case gene symbols.
This support is enabled with the argument <code>ignore.case=TRUE</code>.
In our benchmark tests it appears to add roughly
0.1 seconds per annotation in <code>try_list</code>, regardless of the
number of input entries in <code>x</code>. It seems reasonable that the
cost may increase with annotation size, although in practice
the time dependency does not seem to be notably affected by
annotation size.</p>
<p>This time cost is related to the process of converting all <code><a href="https://rdrr.io/pkg/AnnotationDbi/man/AnnotationDb-class.html" class="external-link">keys()</a></code>
in the annotation to lowercase, plus relatively minimal time to
handle scenarios where multiple keys in mixed case (capitalization)
are converted to the same lowercase key, for example 'CAL', 'Cal', 'cal'
are all recognized as 'cal', and all associated connections are combined.
This secondary step was added in version 0.0.18.900. Prior to that
version, only the first such matching lowercase result was used.</p>
<p>For the vast majority of gene-based queries involving human, this
step is not necessary and produces identical results. The reason is
that human gene symbols are entirely UPPERCASE.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other genejam:
<code><a href="freshenGenes2.html">freshenGenes2</a>()</code>,
<code><a href="freshenGenes3.html">freshenGenes3</a>()</code>,
<code><a href="get_anno_db.html">get_anno_db</a>()</code>,
<code><a href="is_empty.html">is_empty</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">org.Hs.eg.db</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nBasic usage\n"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">freshenGenes</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"APOE"</span>, <span class="st">"CCN2"</span>, <span class="st">"CTGF"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Basic usage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   input ENTREZID SYMBOL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  APOE      348   APOE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  CCN2     1490   CCN2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  CTGF     1490   CCN2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">org.Hs.eg.db</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="co">## Optionally show the annotation source matched</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nOptionally show the annotation source matched\n"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">freshenGenes</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"APOE"</span>, <span class="st">"CCN2"</span>, <span class="st">"CTGF"</span><span class="op">)</span>, include_source<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optionally show the annotation source matched</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   input ENTREZID    ENTREZID_source SYMBOL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  APOE      348 org.Hs.egSYMBOL2EG   APOE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  CCN2     1490 org.Hs.egSYMBOL2EG   CCN2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  CTGF     1490  org.Hs.egALIAS2EG   CCN2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">org.Hs.eg.db</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="co">## Show comma-delimited genes</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nInput genes are comma-delimited\n"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">freshenGenes</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"APOE"</span>, <span class="st">"CCN2"</span>, <span class="st">"CTGF"</span>, <span class="st">"CCN2,CTGF"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Input genes are comma-delimited</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       input ENTREZID SYMBOL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      APOE      348   APOE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      CCN2     1490   CCN2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      CTGF     1490   CCN2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 CCN2,CTGF     1490   CCN2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">org.Hs.eg.db</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="co">## Optionally include more than SYMBOL in the output</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nCustom output to include SYMBOL, ALIAS, GENENAME\n"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">freshenGenes</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"APOE"</span>, <span class="st">"HIST1H1C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      final<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SYMBOL"</span>, <span class="st">"ALIAS"</span>, <span class="st">"GENENAME"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Custom output to include SYMBOL, ALIAS, GENENAME</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      input ENTREZID SYMBOL                             ALIAS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     APOE      348   APOE   AD2,APO-E,ApoE4,APOE,LDLCQ5,LPG</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 HIST1H1C     3006   H1-2 H1-2,H1.2,H1C,H1F2,H1s-1,HIST1H1C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                              GENENAME</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                    apolipoprotein E</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 H1.2 linker histone, cluster member</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">org.Hs.eg.db</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="co">## More advanced, match affymetrix probesets</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"hgu133plus2.db"</span>, quietly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">&amp;&amp;</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st">"hgu133plus2.db"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nAdvanced example including Affymetrix probesets.\n"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span>      <span class="va">affy_df</span> <span class="op">&lt;-</span> <span class="fu">freshenGenes</span><span class="op">(</span></span></span>
<span class="r-in"><span>         <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"227047_x_at"</span>, <span class="st">"APOE"</span>, <span class="st">"HIST1H1D"</span>, <span class="st">"NM_003166,U08032"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         include_source<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>         try_list<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hgu133plus2ENTREZID"</span>, <span class="st">"REFSEQ2EG"</span>,</span></span>
<span class="r-in"><span>            <span class="st">"SYMBOL2EG"</span>, <span class="st">"ACCNUM2EG"</span>, <span class="st">"ALIAS2EG"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         final<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SYMBOL"</span>, <span class="st">"GENENAME"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">affy_df</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Advanced example including Affymetrix probesets.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              input ENTREZID     ENTREZID_source  SYMBOL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      227047_x_at    57659 hgu133plus2ENTREZID   ZBTB4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             APOE      348  org.Hs.egSYMBOL2EG    APOE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         HIST1H1D     3007   org.Hs.egALIAS2EG    H1-3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 NM_003166,U08032     6818  org.Hs.egREFSEQ2EG SULT1A3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                  GENENAME</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 zinc finger and BTB domain containing 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                        apolipoprotein E</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     H1.3 linker histone, cluster member</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     sulfotransferase family 1A member 3</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>


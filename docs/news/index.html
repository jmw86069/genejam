<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • genejam</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">genejam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.15.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://github.com/jmw86069/genejam/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='http://github.com/jmw86069/genejam/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="version-0015900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.15.900">
<a href="#version-0015900" class="anchor"></a>Version 0.0.15.900</h1>
<div id="updates-to-existing-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#updates-to-existing-functions" class="anchor"></a>updates to existing functions</h2>
<ul>
<li>
<code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> new argument <code>ignore.case</code> which calls <code><a href="../reference/imget.html">genejam::imget()</a></code> as a drop-in replacement for <code><a href="https://rdrr.io/r/base/get.html">mget()</a></code>. The process was improved by calling <code><a href="https://rdrr.io/pkg/AnnotationDbi/man/AnnotationDb-class.html">AnnotationDbi::keys()</a></code> instead of <code><a href="https://rdrr.io/pkg/AnnotationDbi/man/Bimap-envirAPI.html">AnnotationDbi::ls()</a></code>, and this change is at least an order of magnitude faster. In brief benchmarks, using <code>ignore.case=TRUE</code> adds roughly 0.1 seconds per annotation in <code>try_list</code>, but otherwise is the same speed regardless the number of input entries.</li>
</ul>
</div>
</div>
    <div id="version-0014900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.14.900">
<a href="#version-0014900" class="anchor"></a>Version 0.0.14.900</h1>
<div id="updates-to-existing-functions-1" class="section level2">
<h2 class="hasAnchor">
<a href="#updates-to-existing-functions-1" class="anchor"></a>updates to existing functions</h2>
<ul>
<li>
<p><code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> was updated so the input can contain intermediate values, for example ENTREZID values. In fact, now input can contain a mixture of gene symbols, ENTREZID intermediate values, and it will fill in the holes accordingly.</p>
<ul>
<li>new argument <code>intermediate</code> to define the colname that contains the intermediate values, most commonly EG which are Entrez gene ID.</li>
<li>Values are propagated in <code>intermediate</code> except when <code>handle_multiple="first_hit"</code> any existing value in <code>intermediate</code> is used with no further processing. All other <code>handle_multiple</code> will combine entries into <code>intermediate</code>.</li>
</ul>
</li>
</ul>
</div>
<div id="new-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions" class="anchor"></a>new functions</h2>
<ul>
<li>
<code><a href="../reference/is_empty.html">is_empty()</a></code> is a small helper function to determine which entries in a vector are either <code>NA</code> or <code>""</code>.</li>
</ul>
</div>
</div>
    <div id="version-0013900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.13.900">
<a href="#version-0013900" class="anchor"></a>Version 0.0.13.900</h1>
<div id="new-functions-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-1" class="anchor"></a>new functions</h2>
<p>These two new functions are convenience functions. I often find myself wanting the gene symbol and long gene name, so now <code><a href="../reference/freshenGenes2.html">freshenGenes2()</a></code> does that by default. To add gene aliases, use <code><a href="../reference/freshenGenes3.html">freshenGenes3()</a></code>.</p>
<ul>
<li>
<code><a href="../reference/freshenGenes2.html">freshenGenes2()</a></code> is a simple extension to <code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> that has <code>"SYMBOL", "GENENAME"</code> in the output by default.</li>
<li>
<code><a href="../reference/freshenGenes3.html">freshenGenes3()</a></code> is a simple extension to <code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> that has <code>"SYMBOL", "GENENAME", "ALIAS"</code> in the output by default.</li>
</ul>
</div>
</div>
    <div id="version-0012900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.12.900">
<a href="#version-0012900" class="anchor"></a>Version 0.0.12.900</h1>
<div id="changes-to-existing-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-to-existing-functions" class="anchor"></a>Changes to existing functions</h2>
<ul>
<li>
<code><a href="../reference/get_anno_db.html">get_anno_db()</a></code> logic to check for reciprocal annotation names was updated to cover more scenarios. Specifically, <code>"org.Hs.egUNIPROT2EG"</code> is properly recognized, it previously was not being recognized by the reciprocal <code>"org.Hs.egUNIPROT"</code> and therefore was being skipped.</li>
</ul>
</div>
</div>
    <div id="version-0011900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.11.900">
<a href="#version-0011900" class="anchor"></a>Version 0.0.11.900</h1>
<div id="changes-to-existing-functions-1" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-to-existing-functions-1" class="anchor"></a>Changes to existing functions</h2>
<ul>
<li>
<p>To prepare for a wider release, I decided to rename (!) some arguments, to have snake_case instead of camelCase for consistency. I heard myself complaining about my own package, “Why are some arguments camelCase and others are snake_case? Pick one!” I complain with a smile on my face, but still it’s a fair point.</p>
<ul>
<li>
<code>finalList</code> is now <code>final</code>
</li>
<li>
<code>tryList</code> is now <code>try_list</code>
</li>
<li>
<code>annLib</code> is now <code>ann_lib</code>
</li>
</ul>
</li>
</ul>
<p>I suppose I should probably rename <code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> to <code>freshen_genes()</code>.</p>
</div>
<div id="changes-to-existing-functions-2" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-to-existing-functions-2" class="anchor"></a>Changes to existing functions</h2>
<ul>
<li>
<code><a href="../reference/get_anno_db.html">get_anno_db()</a></code> new argument <code>ignore.case</code> which will build an environment where all keys are converted to lowercase. Ultimately, this option incurs the lowest performance hit, since the keys only need to be converted once, then the environment can be used repeatedly with native <code><a href="https://rdrr.io/r/base/get.html">mget()</a></code> functions.</li>
</ul>
</div>
<div id="new-function" class="section level2">
<h2 class="hasAnchor">
<a href="#new-function" class="anchor"></a>New function</h2>
<ul>
<li>
<code><a href="../reference/imget.html">imget()</a></code> case-insensitive <code><a href="https://rdrr.io/r/base/get.html">mget()</a></code> – however once I tested it, I realized this mechanism is fairly slow when using a fairly large annotation object. Also, if querying the same data multiple times using <code><a href="../reference/imget.html">imget()</a></code>, there is no re-use and the cost is incurred each operation – very much not ideal. This function will likely be retired soon.</li>
</ul>
</div>
</div>
    <div id="version-0010900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.10.900">
<a href="#version-0010900" class="anchor"></a>Version 0.0.10.900</h1>
<div id="new-functions-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-2" class="anchor"></a>New functions</h2>
<ul>
<li>
<code><a href="../reference/better_exists.html">better_exists()</a></code> and <code><a href="../reference/better_get.html">better_get()</a></code> which are (not so humbly) improved versions of <code><a href="https://rdrr.io/r/base/exists.html">base::exists()</a></code> and <code><a href="https://rdrr.io/r/base/get.html">base::get()</a></code> respectively. Their sole benefit is to recognize a package prefix in an object name, so things like <code><a href="../reference/better_exists.html">better_exists("base::get")</a></code> will return TRUE since that object does exist; and subsequently <code><a href="../reference/better_get.html">better_get("base::get")</a></code> will return that object. These functions are mostly useful when using annotation package prefixes such as <code>"KEGG.db::KEGGPATHID2NAME"</code>. I needed a simple way to test if it exists. <code><a href="../reference/better_exists.html">better_exists()</a></code> also allows multiple input values.</li>
</ul>
</div>
<div id="changes-to-existing-functions-3" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-to-existing-functions-3" class="anchor"></a>Changes to existing functions</h2>
<ul>
<li>
<code><a href="../reference/get_anno_db.html">get_anno_db()</a></code> now calls <code><a href="../reference/better_exists.html">better_exists()</a></code> and <code><a href="../reference/better_get.html">better_get()</a></code> which allows using a package prefix with annotation names.</li>
<li>
<code><a href="../reference/get_anno_db.html">get_anno_db()</a></code> argument <code>"revmap_suffix"</code> now allows multiple possible values, it cycles through each until it finds a match, otherwise returns <code>NULL</code>. Some annotations use suffix <code>"2ENTREZID"</code> instead of <code>"2EG"</code>, and still others use <code>"2NAME"</code>. I’m sure there will be others.</li>
</ul>
</div>
</div>
    <div id="version-009900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.9.900">
<a href="#version-009900" class="anchor"></a>Version 0.0.9.900</h1>
<div id="changes-to-existing-functions-4" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-to-existing-functions-4" class="anchor"></a>Changes to existing functions</h2>
<ul>
<li>
<code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> new argument <code>handle_multiple="best_each"</code> which returns the best first try for each delimited entry in each input row. For example <code><a href="https://rdrr.io/r/base/c.html">c("APOE","APOA")</a></code> will match <code>"APOE"</code> as an authoritatice gene symbol, but <code>"APOA"</code> is matched as an alias to the new gene symbol <code>"LPA"</code>. The output will be <code>"APOA,LPA"</code>. Note that output will contain unique entries delimited, but they will not be sorted.</li>
</ul>
</div>
</div>
    <div id="version-008900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.8.900">
<a href="#version-008900" class="anchor"></a>Version 0.0.8.900</h1>
<p>The next version will have <code>handle_multiple="best_each"</code> which will find the best match for each entry in a set of delimited gene symbols. Most useful for something like pathway enrichment results, where the goal is to retain all possible genes, yet each gene may require a different type of annotation to find a match. See <code>TODO.md</code> for details.</p>
<div id="updates-to-existing-functions-2" class="section level2">
<h2 class="hasAnchor">
<a href="#updates-to-existing-functions-2" class="anchor"></a>Updates to existing functions</h2>
<ul>
<li>
<code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> includes a new example showing how to recognize Affymetrix probesets by using a custom search library.</li>
<li>
<code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> handles multiple annotation libraries, mostly in the form of fully described annotation names, such as <code>"org.Hs.egSYMBOL"</code> and <code>"hgu133plus2ENTREZID"</code>.</li>
<li>
<code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> new option <code>empty_rule="na"</code> which will replace empty entries with <code>NA</code>. Other options <code>empty_rule="blank"</code> replaces with <code>""</code>, and <code>empty_rule="original"</code> replaces empty entries in the first output column with the original entry in the first input column.</li>
<li>
<code><a href="../reference/get_anno_db.html">get_anno_db()</a></code> now returns`<code>NULL</code> when an annotation is not found, instead of throwing an error. This change allows the calling function to skip missing annotation gracefully without using <code><a href="https://rdrr.io/r/base/conditions.html">tryCatch()</a></code> to catch the error.</li>
</ul>
</div>
</div>
    <div id="version-007900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.7.900">
<a href="#version-007900" class="anchor"></a>Version 0.0.7.900</h1>
<div id="updates-to-existing-functions-3" class="section level2">
<h2 class="hasAnchor">
<a href="#updates-to-existing-functions-3" class="anchor"></a>Updates to existing functions</h2>
<ul>
<li>
<code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> now properly ignores NA values without throwing an exception. NA values are left as-is and returned as NA in the final output.</li>
</ul>
</div>
</div>
    <div id="version-006900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.6.900">
<a href="#version-006900" class="anchor"></a>Version 0.0.6.900</h1>
<div id="updates-to-existing-functions-4" class="section level2">
<h2 class="hasAnchor">
<a href="#updates-to-existing-functions-4" class="anchor"></a>Updates to existing functions</h2>
<ul>
<li>
<code><a href="../reference/freshenGenes.html">freshenGenes()</a></code> new argument <code>protect_inline_sep</code> helps to prevent splitting single values that may include the same sep character, for example not splitting <code>"H4 clustered histone 10, pseudogene"</code> into <code>"H4 clustered histone 10"</code> and "<code>pseudogene"</code>. Also, the handling of <code>finalList</code> uses <code>sep</code> as the <code>split</code> since that <code>sep</code> is known to have been used in creating the intermediate values, therefore it should be consistent in the final step. This subtle change helps allow a more general split pattern in the first step, such as <code>"[, ]+"</code> which splits at comma and/or space, without splitting at spaces in subsequent steps.</li>
</ul>
</div>
<div id="new-functions-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-3" class="anchor"></a>New functions</h2>
<ul>
<li>
<code><a href="../reference/lgsub.html">lgsub()</a></code> is a simple wrapper around <code><a href="https://rdrr.io/r/base/grep.html">gsub()</a></code> except that it operates on character vectors inside a <code>list</code>. This function will probably be moved into the <code>jamba</code> package in the near future. In fact, there will probably be a small family of list-friendly functions: lgrep(), lvigrep(), lvgrep(), lstrsplit().</li>
</ul>
</div>
</div>
    <div id="version-005900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.5.900">
<a href="#version-005900" class="anchor"></a>Version 0.0.5.900</h1>
<div id="updates-to-existing-functions-5" class="section level2">
<h2 class="hasAnchor">
<a href="#updates-to-existing-functions-5" class="anchor"></a>Updates to existing functions</h2>
<ul>
<li>
<code><a href="../reference/get_anno_db.html">get_anno_db()</a></code> was updated to handle reverse-map annotations, for example requesting <code>org.Hs.egALIAS</code> and deriving it from <code>org.Hs.egALIAS2EG</code> using <code><a href="https://rdrr.io/pkg/AnnotationDbi/man/Bimap-direction.html">AnnotationDbi::revmap()</a></code>.</li>
</ul>
</div>
</div>
    <div id="version-004900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.4.900">
<a href="#version-004900" class="anchor"></a>Version 0.0.4.900</h1>
<div id="updates-to-existing-functions-6" class="section level2">
<h2 class="hasAnchor">
<a href="#updates-to-existing-functions-6" class="anchor"></a>Updates to existing functions</h2>
<ul>
<li>Another update to resolve cascade <code>stringsAsFactors</code> bugs. Least favorite default option in R.</li>
</ul>
</div>
</div>
    <div id="version-003900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.3.900">
<a href="#version-003900" class="anchor"></a>Version 0.0.3.900</h1>
<div id="updates-to-existing-functions-7" class="section level2">
<h2 class="hasAnchor">
<a href="#updates-to-existing-functions-7" class="anchor"></a>Updates to existing functions</h2>
<ul>
<li>Force input <code>x</code> to character in <code><a href="../reference/freshenGenes.html">freshenGenes()</a></code>.</li>
</ul>
</div>
</div>
    <div id="version-002900" class="section level1">
<h1 class="page-header" data-toc-text="0.0.2.900">
<a href="#version-002900" class="anchor"></a>Version 0.0.2.900</h1>
<p>Note that genejam requires one Bioconductor annotation package, usually <code>org.Hs.eg.db</code> but can be any valid organism, such as <code>org.Mm.eg.db</code> for mouse, or <code>org.Rn.eg.db</code> for rat.</p>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li>Attempt to fix rare cases of NA values in <code><a href="https://rdrr.io/r/base/get.html">mget()</a></code> by using <code><a href="https://rdrr.io/pkg/jamba/man/rmNA.html">jamba::rmNA()</a></code>.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>



<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>TODO for genejam • genejam</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="TODO for genejam" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">genejam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.11.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jmw86069/genejam">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>TODO for genejam</h1>
    </div>

<div id="todo-for-genejam" class="section level1">

<div id="make-searches-case-insensitive" class="section level2">
<h2 class="hasAnchor">
<a href="#make-searches-case-insensitive" class="anchor"></a>Make searches case-insensitive</h2>
<ul>
<li>This change requires something like <code>better_mget()</code> or perhaps more properly <code><a href="reference/imget.html">imget()</a></code>.</li>
<li>The basic mechanism:</li>
</ul>
<p><code>{r, imget} input &lt;- c("Apoe", "h1-3", "Hist1H1C"); keys &lt;- ls(org.Hs.egSYMBOL2EG) keymatch &lt;- match(tolower(input), tolower(keys)) keysfound &lt;- !is.na(keymatch); values &lt;- as.list(jamba::nameVector(rep(NA, length(input)), input)) valuesfound &lt;- mget(keys[keymatch[keysfound]], org.Hs.egSYMBOL2EG, ifnotfound=NA) values[keysfound] &lt;- valuesfound; values;</code></p>
<p>After some testing, it appears the slow step is retrieving all the keys, which is also performed each time the data is queried, compounding the problem.</p>
<p>Current recommendation is to use <code><a href="reference/get_anno_db.html">get_anno_db(..., ignore.case=TRUE)</a></code> which returns an environment where all keys are forced to lowercase. In this case, the environment consumes real memory, and takes longer to prepare. However once prepared, the environment can be passed directory to <code><a href="reference/freshenGenes.html">freshenGenes()</a></code> for rapid operation.</p>
</div>
<div id="allow-entrezid-or-eg-as-optional-input-columns" class="section level2">
<h2 class="hasAnchor">
<a href="#allow-entrezid-or-eg-as-optional-input-columns" class="anchor"></a>Allow ENTREZID or EG as optional input column(s)</h2>
</div>
<div id="problem-space" class="section level2">
<h2 class="hasAnchor">
<a href="#problem-space" class="anchor"></a>Problem space</h2>
<p>It is not currently possible to provide ENTREZID values at input, since these values are expected to be in the <code>"intermediate"</code> column after the first step in the process. There is no annotation that takes ENTREZID and returns ENTREZID.</p>
<ul>
<li>Allow <code>"ENTREZID"</code> or <code>"EG"</code> as an input column, some mechanism to allow input data to have the intermediate value, without having to query an annotation.</li>
<li>It would essentially mark one or more columns with something like <code>"AsIs"</code> and the values would be delimited and used to populate the <code>"intermediate"</code> column without query.</li>
<li>There could be a special-case <code>ann_lib="ASIS"</code> that would allow values in the <code>"AsIs"</code> columns to pass through, which would give a mechanism to try querying another column first, then using the <code>"ASIS"</code> column as a secondary option.</li>
</ul>
<div id="suggested-mechanism" class="section level3">
<h3 class="hasAnchor">
<a href="#suggested-mechanism" class="anchor"></a>Suggested mechanism</h3>
<ul>
<li>
<code>asis_colnames=c("ENTREZID","EG")</code> would define colnames <code><a href="https://rdrr.io/r/base/c.html">c("ENTREZID","EG")</a></code> as “ASIS” which means they are not to be queried.</li>
<li>
<p><code>ann_lib=c("ASIS", "SYMBOL2EG", "ALIAS2EG")</code> would process in order:</p>
<ol>
<li>take all values from the <code>asis_colnames</code> and delimit them to populate the <code>"intermediate"</code> column.</li>
<li>query <code>"SYMBOL2EG"</code> using all columns except <code>asis_colnames</code>.</li>
<li>query <code>"ALIAS2EG"</code> using all columns except <code>asis_colnames</code>.</li>
</ol>
</li>
<li><p><code>ann_lib=c("SYMBOL2EG", "ASIS", "ALIAS2EG")</code> would process in order:</p></li>
</ul>
<ol>
<li>query <code>"SYMBOL2EG"</code> using all columns except <code>asis_colnames</code>.</li>
<li>Populate <code>"intermediate"</code> with delimited values from the <code>asis_colnames</code> using rules defined by <code>handle_multiple</code>. That is, when <code>handle_multiple="first_try"</code> then only rows with empty values in `“intermediate” column will be populated.</li>
<li>query <code>"ALIAS2EG"</code> using all columns except <code>asis_colnames</code>.</li>
</ol>
</div>
</div>
</div>

  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


